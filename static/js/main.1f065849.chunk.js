!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["@qiuz/react-image-map-main"]=t():e["@qiuz/react-image-map-main"]=t()}(window,function(){return(window["webpackJsonp_@qiuz/react-image-map"]=window["webpackJsonp_@qiuz/react-image-map"]||[]).push([[0],{106:function(e,t,n){e.exports=n(1748)},112:function(e,t,n){},117:function(e,t,n){},1748:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n.n(a),c=n(51),o=(n(63),n(13)),i=n.n(o),l=n(0),u=n.n(l),s=n(19),m=n.n(s);n(112),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=n(43),p=n(44),d=n(105),g=n(104);new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local";function t(e,t,n){var a,r;n?((a=new Date).setTime(a.getTime()+24*n*60*60*1e3),r="; expires="+a.toUTCString()):r="",document.cookie=e+"="+t+r+"; path=/"}function n(n){n=JSON.stringify(n),"session"===e?window.name=n:t("localStorage",n,365)}var a=function(){var t="session"===e?window.name:function(e){var t,n,a=e+"=",r=document.cookie.split(";");for(t=0;t<r.length;t++){for(n=r[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(a))return n.substring(a.length,n.length)}return null}("localStorage");return t?JSON.parse(t):{}}();return{length:0,clear:function(){a={},this.length=0,"session"===e?window.name="":t("localStorage","",365)},getItem:function(e){return void 0===a[e]?null:a[e]},key:function(e){var t=0;for(var n in a){if(t===e)return n;t++}return null},removeItem:function(e){delete a[e],this.length--,n(a)},setItem:function(e,t){a[e]=t+"",this.length++,n(a)}}},v=function(){try{return localStorage.setItem("setItemNotWork","true"),localStorage.removeItem("setItemNotWork"),localStorage}catch(e){return console.log(e),h()}}(),b=(new(function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"getItem",value:function(e){var t=v.getItem(e);return"undefined"!==t?JSON.parse(t):void 0}},{key:"setItem",value:function(e,t){v.setItem(e,JSON.stringify(t))}},{key:"removeItem",value:function(e){v.removeItem(e)}},{key:"key",value:function(e){return v.key(e)}},{key:"clear",value:function(){v.clear()}},{key:"length",get:function(){return v.length}}]),e}()),n(96)),y=n.n(b);var E={},w=function(e,t){E[e]=t},N=function(e){return E[e]},O=n(9),x=n(103),S=(n(115),n(31)),k=n.n(S),j=n(61),I=n(46),_=n(57),C=n(32),J=(n(117),n(97)),z=n.n(J),R=(n(118),n(58)),q=n.n(R),F=n(1752),M=n(98),A=n(99),P=n.n(A),D=[{left:"0%",top:"6%",height:"12%",width:"33%",style:{background:"rgba(255, 0, 0, 0.5)"},onMouseOver:function(){return i.a.info("map onMouseOver")}},{width:"33%",height:"12%",left:"0%",top:"36.37931034482759%",style:{background:"rgba(255, 0, 0, 0.5)"},render:function(e,t){return u.a.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 0, 0.5)"}},"can render map node")},onMouseOver:function(){return i.a.info("map onMouseOver")}}],L={unit:"%",x:0,y:20,height:12,width:33},T=function(){var e=window.location.href.split("?")[1];return y.a.parse(e)}(),U=T.imgSrc,W=T.postmessage,B=[{path:"/react-image-map",Component:function(){var e=Object(l.useState)(U||P.a),t=Object(C.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)(D),c=Object(C.a)(r,2),o=c[0],s=c[1],m=Object(l.useState)(L),f=Object(C.a)(m,2),p=f[0],d=f[1],g=Object(l.useState)(JSON.stringify(o)),h=Object(C.a)(g,2),v=h[0],b=h[1],y=Object(l.useState)(JSON.stringify(o,null,4)),E=Object(C.a)(y,2),w=E[0],O=E[1];W&&window.addEventListener("message",function(e){console.log(e);var t=e.data;if(t){var n=function(e){var t=[];try{t=JSON.parse(e)}catch(n){console.log(n)}return t}(t);s(n),b(JSON.stringify(n)),O(JSON.stringify(n,null,4))}},!1),Object(l.useEffect)(function(){var e=document.querySelector(".ReactCrop"),t=function(e){var t=document.querySelector(".ReactCrop__crop-selection");e.target===t&&S("add")()};if(e)return e.addEventListener("dblclick",t),function(){return e.removeEventListener("dblclick",t)}});var x=function(e,t){return function(n){var a=n.target.value,r=o.map(function(n,r){return t===r?Object(_.a)(Object(_.a)({},n),{},Object(I.a)({},e,a)):n});s(r),b(JSON.stringify(r)),O(JSON.stringify(r,null,4))}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){var n={},a=[];if("add"===e){var r=p.x,c=p.y,l=p.width,u=p.height;n={width:"".concat(l,"%"),height:"".concat(u,"%"),left:"".concat(r,"%"),top:"".concat(c,"%")},a=[].concat(Object(j.a)(o),[n])}else o.splice(t,1),a=Object(j.a)(o);s(a),b(JSON.stringify(a)),O(JSON.stringify(a,null,4)),i.a.success("success")}},J=function(e,t){var n="click map ".concat(t+1);console.log(n,e),i.a.info(n)},R=u.a.useMemo(function(){return u.a.createElement(M.ImageMap,{className:"usage-map",src:n,onMouseDown:function(){return i.a.info("onMouseDown")},map:o,alt:"React Image Map",onMapClick:J})},[o,n]);return u.a.createElement("div",{className:"images-map-content"},u.a.createElement("div",{className:"crop-box"},u.a.createElement("div",{className:"map-box"},u.a.createElement("div",{className:"map-box-img"},u.a.createElement(z.a,{src:n,crop:p,ruleOfThirds:!0,onChange:function(e,t){d(t)}}),n&&o.map(function(e,t){var n=e.top,a=e.left,r=e.width,c=e.height;return u.a.createElement("span",{className:"crop-item",key:t,style:{top:n,left:a,width:r,height:c}})})),u.a.createElement("div",{className:"map-box-img"},R))),n&&o.map(function(e,t){return u.a.createElement("div",{className:"map-area",key:t},u.a.createElement("label",{className:"title"},"map",t+1),u.a.createElement("div",{className:"setting-box"},u.a.createElement("div",{className:"setting-box-item"},u.a.createElement("label",null,"width: "),u.a.createElement("input",{value:parseFloat(e.width),type:"number",onChange:x("width",t)})),u.a.createElement("div",{className:"setting-box-item"},u.a.createElement("label",null,"height: "),u.a.createElement("input",{value:parseFloat(e.height),type:"number",onChange:x("height",t)})),u.a.createElement("div",{className:"setting-box-item"},u.a.createElement("label",null,"left: "),u.a.createElement("input",{value:parseFloat(e.left),type:"number",onChange:x("left",t)})),u.a.createElement("div",{className:"setting-box-item"},u.a.createElement("label",null,"top: "),u.a.createElement("input",{value:parseFloat(e.top),type:"number",onChange:x("top",t)}))),u.a.createElement("i",{className:"cad-iconfont icon-sub",onClick:S("sub",t)}))}),u.a.createElement("div",{className:"opt-box"},u.a.createElement(k.a,{className:"opt-box-btn",icon:u.a.createElement("i",{className:"cad-iconfont icon-dotted-box"}),onClick:S("add")},"Add map"),u.a.createElement(q.a,{text:v,onCopy:function(){return i.a.success("copy success")}},u.a.createElement(k.a,{className:"opt-box-btn",icon:u.a.createElement("i",{className:"cad-iconfont icon-copy"})},"Copy")),u.a.createElement(q.a,{text:w,onCopy:function(){return i.a.success("copy success")}},u.a.createElement(k.a,{className:"opt-box-btn",icon:u.a.createElement("i",{className:"cad-iconfont icon-copy"})},"Format copy")),u.a.createElement(k.a,{className:"opt-box-btn",icon:u.a.createElement("i",{className:"cad-iconfont icon-image"})},u.a.createElement("input",{type:"file",accept:"image/*",className:"picker-image",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){a(t.result),s([]),d(L)}),t.readAsDataURL(e.target.files[0])}}}),"Select images")),u.a.createElement("textarea",{cols:3,value:v,onChange:function(e){var t=e.target.value,n=[];try{n=JSON.parse(t),s(n),b(JSON.stringify(n)),O(JSON.stringify(n,null,4)),i.a.success("success")}catch(a){console.log(a),i.a.error("".concat(a))}}}),u.a.createElement(k.a,{href:"https://github.com/qiuziz/react-image-map#imagemap",target:"_blank",className:"help-btn",style:{bottom:N("PREFIX")?"20%":"10%"},shape:"circle",size:"large",icon:u.a.createElement(F.a,null)}))},exact:!0}],X=function(){var e=N("PREFIX");return l.createElement(O.d,null,B.map(function(t,n){var a=t.path,r=t.Component,c=t.exact;return l.createElement(O.b,{key:n,path:"".concat(e).concat(a),exact:c,render:function(e){return l.createElement(r,e)}})}),l.createElement(O.a,{to:"".concat(e,"/react-image-map")}))},K=function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return l.createElement(x.a,null,l.createElement(X,null))}}]),n}(l.Component);function Q(e){var t=e.container;i.a.config({getContainer:function(){return(t||document).querySelector("#root")}}),m.a.render(u.a.createElement(K,null),(t||document).querySelector("#root"))}function Y(){return $.apply(this,arguments)}function $(){return($=Object(c.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e){return G.apply(this,arguments)}function G(){return(G=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Q(t);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.container,m.a.unmountComponentAtNode((n||document).querySelector("#root"));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.d(t,"bootstrap",function(){return Y}),n.d(t,"mount",function(){return H}),n.d(t,"unmount",function(){return V}),w("PREFIX",""),window.__POWERED_BY_QIANKUN__&&(w("PREFIX","/q"),n.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__),window.__POWERED_BY_QIANKUN__||Q({}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,n){e.exports=n.p+"static/media/example.3373acbe.png"}},[[106,1,2]]])});